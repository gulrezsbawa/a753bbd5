"use strict";(self.webpackChunkfrontend_hiring_challenge=self.webpackChunkfrontend_hiring_challenge||[]).push([[17],{2342:(e,n,t)=>{t.d(n,{A:()=>ve});var r,i,o,l=t(6540),a=t(1510);function c(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var s=a.Ay.div(r||(r=c(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  color: #ccc;\n  font-size: 8px;\n  font-weight: bold;\n  letter-spacing: 2px;\n  text-transform: uppercase;\n  white-space: nowrap;\n  padding: 16px 0;\n"]))),d=a.Ay.span(i||(i=c(["\n  flex: 1;\n  border-bottom: 1px dotted #ccc;\n  margin: 0 10px;\n"]))),u=a.Ay.span(o||(o=c(["\n  color: #bbb;\n"]))),f=t(4848);const p=function(e){var n=e.date,t=new Date(n).toLocaleDateString("en-US",{month:"long",day:"2-digit",year:"numeric"}).toUpperCase().replace(/(\w+)\s(\d+),\s(\d+)/,"$1, $2 $3");return(0,f.jsxs)(s,{children:[(0,f.jsx)(d,{}),(0,f.jsx)(u,{children:t}),(0,f.jsx)(d,{})]})};var x,h,v,b,j=a.Ay.div(x||(h=["\n  display: flex;\n  align-items: center;\n  border: 1px solid #ccc;\n  border-radius: 12px;\n  height: 48px;\n  margin: 0 20px;\n"],v||(v=h.slice(0)),x=Object.freeze(Object.defineProperties(h,{raw:{value:Object.freeze(v)}})))),y=t(9209),g=t(9538),m=t(7164),A=a.Ay.div(b||(b=function(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 8px;\n\n  flex: 1;\n"]))),w=t(8192);const z=function(e){var n=e.call_type,t=e.direction;return(0,f.jsxs)(A,{children:["inbound"===t&&"missed"===n&&(0,f.jsx)(w.A,{fontSize:"small"}),"inbound"===t&&"missed"!==n&&(0,f.jsxs)(m.A,{position:"relative",display:"inline-block",children:[(0,f.jsx)(y.A,{sx:{color:"gray",fontSize:16}}),(0,f.jsx)(g.A,{sx:{color:"orangered",fontSize:12,fontWeight:"bold",position:"absolute",top:-4,left:5}})]}),"outbound"===t&&(0,f.jsxs)(m.A,{position:"relative",display:"inline-block",children:[(0,f.jsx)(y.A,{sx:{color:"gray",fontSize:16}}),(0,f.jsx)(g.A,{sx:{color:"green",fontSize:12,fontWeight:"bold",position:"absolute",top:-4,left:5,transform:"rotate(180deg)"}})]})]})};var O,S,_,k,D;function C(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var P=a.Ay.div(O||(O=C(["\n  height: 40px;\n  flex: 6;\n  align-items: center;\n"]))),G=a.Ay.div(S||(S=C(["\n  height: 20px;\n  padding: 4px 32px 4px 0px;\n  display: flex;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  align-items: center;\n"]))),I=a.Ay.div(_||(_=C(["\n  font-size: 14px;\n  font-weight: 700;\n  color: #545454;\n  margin-right: 4px;\n"]))),R=a.Ay.div(k||(k=C(["\n  background: #fc5423;\n  color: white;\n  font-size: 10px;\n  font-weight: bold;\n  padding: 2px 4px;\n  border-radius: 12px;\n"]))),T=a.Ay.div(D||(D=C(['\n  font-size: 12px;\n  font-family: "Roboto", sans-serif;\n  font-weight: 300;\n  max-width: 220px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #aaaaaa;\n']))),$=t(5576),E=function(e){return{missed:"Attempted to call on",answered:"outbound"===e?"Placed a call from":"Received a call on",voicemail:"Left a voicemail on"}};const L=function(e){var n=e.call_type,t=e.from,r=e.to,i=e.callFrequency,o=e.direction,l=(0,$.H)(t),a=(0,$.H)(r);return(0,f.jsxs)(P,{children:[(0,f.jsxs)(G,{children:[(0,f.jsx)(I,{children:l}),i>1&&(0,f.jsx)(R,{children:i})]}),(0,f.jsxs)(T,{children:[E(o)[n]," ",a]})]})};var W,H,U,F=t(376),M=t(1218),Z=t(8363),q=t(5263),B=t(5831),K=t(6717),V=t(4156),N=t(3);function J(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var Q=a.Ay.div(W||(W=J(["\n  flex: 0.5;\n"]))),X=a.Ay.div(H||(H=J(["\n  font-size: 12px;\n"]))),Y=a.Ay.div(U||(U=J(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n"]))),ee=t(6784),ne=t(8106);function te(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const re=function(e){var n=e.id,t=void 0===n?0:n,r=e.call_count,i=void 0===r?0:r,o=(0,ee.G)(),a=o.selectedTab,c=o.archiveOrRestoreMutation,s=o.groupedData,d=(0,ne.Zp)(),u="/"===(0,ne.zy)().pathname,p=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,l,a=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(e){if("string"==typeof e)return te(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?te(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,l.useState)(null),2),x=p[0],h=p[1],v=Boolean(x),b=function(){h(null)},j=0===a&&u&&i>1?q.A:B.A,y=2===a?V.A:K.A,g=0===a&&u&&i>1?"View History":"View Info",m=2!==a?"Archive":"Restore";return(0,f.jsxs)(Q,{children:[(0,f.jsx)(F.A,{onClick:function(e){h(e.currentTarget)},children:(0,f.jsx)(N.ZZB,{style:{color:"gray",fontSize:"16px",opacity:.6}})}),(0,f.jsxs)(M.A,{anchorEl:x,open:v,onClose:b,children:[(0,f.jsx)(Z.A,{onClick:function(){var e=0===a&&u&&i>1?"activity-history":"activity-detail";if(t.includes("GroupKey_")&&1===i){var n=s.find((function(e){return e.id===t})).callList[0].id;d("/".concat(e,"/").concat(n))}else d("/".concat(e,"/").concat(t))},sx:{fontSize:"0.75rem"},children:(0,f.jsxs)(Y,{children:[(0,f.jsx)(j,{sx:{fontSize:12}}),(0,f.jsx)(X,{children:g})]})}),(0,f.jsx)(Z.A,{onClick:function(){var e,n=null!=(e=t)&&e.startsWith("GroupKey_");c.mutate({id:t,isGroup:n}),b()},sx:{fontSize:"0.75rem"},children:(0,f.jsxs)(Y,{children:[(0,f.jsx)(y,{sx:{fontSize:12}}),(0,f.jsx)(X,{children:m})]})})]})]})};var ie,oe,le;function ae(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var ce=a.Ay.div(ie||(ie=ae(["\n  flex: 2;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),se=a.Ay.div(oe||(oe=ae(["\n  color: #b9bab9;\n"]))),de=a.Ay.div(le||(le=ae(["\n  color: #b9bab9;\n  padding: 4px;\n  border: 1px solid #ccc;\n  font-weight: bold;\n  border-right: none;\n  border-top-left-radius: 4px !important;\n  border-bottom-left-radius: 4px !important;\n  border-radius: none;\n"])));const ue=function(e){var n=e.time,t=null==n?void 0:n.split(" ")[0],r=null==n?void 0:n.split(" ")[1];return(0,f.jsxs)(ce,{children:[(0,f.jsxs)(se,{children:[" ",t]}),(0,f.jsx)(de,{children:r})]})};var fe=t(2870);const pe=function(e){var n=e.callDetail||{},t=n.from,r=n.to,i=n.latest_time,o=n.created_at,l=n.call_count,a=n.call_type,c=n.direction,s=n.id,d=(0,fe.$)(i||o).time;return(0,f.jsxs)(j,{children:[(0,f.jsx)(z,{call_type:a,direction:c}),(0,f.jsx)(L,{call_type:a,from:t,to:r,callFrequency:l,direction:c}),(0,f.jsx)(re,{id:s,call_count:l}),(0,f.jsx)(ue,{time:d})]})};var xe,he=a.Ay.div(xe||(xe=function(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}([""])));const ve=function(e){var n=e.passedkey,t=void 0===n?"":n,r=(0,ee.G)(),i=r.groupedData,o=r.selectedTab,a="/"===(0,ne.zy)().pathname,c=i.find((function(e){return(null==e?void 0:e.id)===t})),s=(c||{}).date,d=(0===o&&a?[c]:(null==c?void 0:c.callList)||[]).sort((function(e,n){return new Date(n.created_at)-new Date(e.created_at)}));return d.length>0&&(0,f.jsxs)(he,{children:[(0,f.jsx)(p,{date:s}),d.map((function(e){return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(pe,{callDetail:e}),(0,f.jsx)("br",{})]},e.id)}))]})}},5576:(e,n,t)=>{function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}t.d(n,{H:()=>i});var i=function(e){if(!e)return"";var n=e.toString().replace(/\D/g,"");if(n.length<10)return e;var t=function(e,t){return"+".concat(n.slice(0,e)," ").concat(t.map((function(e){var t,i,o=(i=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,l,a=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(t,i)||function(e,n){if(e){if("string"==typeof e)return r(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=o[0],a=o[1];return n.slice(l,a)})).join(" "))};return n.startsWith("33")?t(2,[[2,3],[3,5],[5,7],[7,9],[9]]):n.startsWith("1")?t(1,[[1,4],[4,7],[7]]):t(2,[[2,4],[4,6],[6,8],[8]])}},9017:(e,n,t)=>{t.r(n),t.d(n,{default:()=>D}),t(6540);var r,i,o,l,a,c,s=t(1510);function d(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var u,f,p,x=s.Ay.div(r||(r=d(["\n  background: #fafaf9 !important;\n  height: 560px;\n  overflow: hidden;\n"]))),h=s.Ay.div(i||(i=d(["\n  padding: 0 16px;\n"]))),v=s.Ay.div(o||(o=d(["\n  display: flex;\n  align-items: center;\n  font-size: 16px;\n\n  border: 1px solid #ddd;\n  border-top: none;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  padding: 4px 16px;\n  cursor: pointer;\n"]))),b=s.Ay.label(l||(l=d(["\n  margin-left: 10px;\n  cursor: pointer;\n"]))),j=s.Ay.div(a||(a=d(["\n  height: 100%;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n"]))),y=s.Ay.div(c||(c=d(["\n  height: 10px;\n  font-size: 30px;\n  color: #888;\n"]))),g=t(6717),m=t(4156),A=t(2342),w=s.Ay.div(u||(f=["\n  overflow: auto;\n  height: 486px;\n  padding-bottom: 32px;\n"],p||(p=f.slice(0)),u=Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(p)}})))),z=t(6784),O=t(4848);const S=function(){var e=(0,z.G)().groupedData;return(0,O.jsx)(w,{children:null==e?void 0:e.map((function(e,n){return(0,O.jsx)(A.A,{passedkey:e.id||n},e.id)}))})};var _=t(3357);const k=function(){var e=(0,z.G)(),n=e.groupedData,t=e.handleArchiveOrRestoreAll,r=e.isActiviesLoading,i=e.activitiesError,o=2===e.selectedTab,l=o?m.A:g.A,a=o?"Restore all calls":"Archive all calls";return(0,O.jsxs)(x,{children:[(0,O.jsx)(h,{children:(0,O.jsxs)(v,{onClick:t,children:[(0,O.jsx)(l,{}),(0,O.jsx)(b,{children:a})]})}),r&&(0,O.jsx)(j,{children:(0,O.jsx)(_.A,{})}),!r&&i&&(0,O.jsx)(j,{children:(0,O.jsx)(y,{children:"Error fetching data"})}),!r&&0===n.length&&(0,O.jsx)(j,{children:(0,O.jsx)(y,{children:"No Recents"})}),!r&&n.length>0&&(0,O.jsx)(S,{})]})},D=function(){return(0,O.jsx)(k,{})}}}]);